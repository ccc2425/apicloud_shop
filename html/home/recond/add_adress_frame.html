<!DOCTYPE html>
  <html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
      <title>title</title>
      <link rel="stylesheet" type="text/css" href="../../../css/api.css"/>
      <link rel="stylesheet" type="text/css" href="../../../css/iconfont.css"/>
      <link rel="stylesheet" type="text/css" href="../../../css/public.css"/>
      <style>
          html,body{
            background: #eee;
          }
          .addresss {
            background: #fff;
            -webkit-box-sizing: border-box;
               -moz-box-sizing: border-box;
                    box-sizing: border-box;
          }
          .name_info div>span{
            width: 20vw;
          }
          .addres {
            width: 100%;
            height: 35px;
            border-bottom: 1px solid #eee;
            line-height: 35px;
            position: relative;
          }
          .adress_box {
            width: 72vw;
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex;
            height: 100%;
            -webkit-box-align: center;
            -webkit-align-items: center;
               -moz-box-align: center;
                -ms-flex-align: center;
                    align-items: center;
          }
          .addres div select {
            background: #fff;
            -webkit-box-flex: 1;
            -webkit-flex: 1;
               -moz-box-flex: 1;
                -ms-flex: 1;
                    flex: 1;
            overflow: hidden;
            outline: none;
            border: none;
            -webkit-appearance: none;
               -moz-appearance: none;
                    appearance: none;
          }
          input{
            width: 67vw;
            outline: none;
          }
          .default{
            width: 1.2rem;
            height: 1.2rem;
            background-color: #ffffff;
            border: solid 1px #dddddd;
            -webkit-border-radius: 0.6rem;
            border-radius: 0.6rem;
            font-size: 0.8rem;
            margin: 0;
            margin-top: 8px;
            padding: 0;
            position: relative;
            display: inline-block;
            vertical-align: top;
            cursor: default;
            -webkit-appearance: none;
            -webkit-user-select: none;
            user-select: none;
            -webkit-transition: background-color ease 0.1s;
            transition: background-color ease 0.1s;
          }

          .default:checked {
            background-color: #03a9f4;
            border: solid 1px #03a9f4;
            text-align: center;
            background-clip: padding-box;
          }
          .default:checked:before {
            content: '';
            width: 0.5rem;
            height: 0.3rem;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-left: -0.25rem;
            margin-top: -0.25rem;
            background: transparent;
            border: 1px solid #ffffff;
            border-top: none;
            border-right: none;
            z-index: 2;
            -webkit-border-radius: 0;
            border-radius: 0;
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
          }
          .default:checked:after {
            content: '';
            width: 0.5rem;
            height: 0.3rem;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-left: -0.25rem;
            margin-top: -0.25rem;
            background: transparent;
            border: 1px solid #ffffff;
            border-top: none;
            border-right: none;
            z-index: 2;
            -webkit-border-radius: 0;
            border-radius: 0;
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
          }
          .footer div{
            width: 96vw;
            text-align: center;
            line-height: 36px;
            margin: 10px auto;
          }
      </style>
  </head>
  <body>
    <div class="add_address_content pad2v">
      <div class="bgcf fs14">
        <div class="name_info">
          <div class="pad0a2v lh35 borderb1e"><span class="mr2v text-just">收货人:</span><input placeholder="收货人姓名" type="text" id="name"></div>
          <div class="pad0a2v lh35 borderb1e"><span class="mr2v text-just">手机号码:</span><input placeholder="收货人手机号" type="number" id="mobile" oninput="mobile(event)" tapmode='tap-active'></div>
          <!-- <div class="pad0a2v lh35 borderb1e"><span class="mr3v">收货城市</span><input placeholder="选择所在地区" type="number" id="adress" tapmode='tap-active' disabled></div> -->
        </div>
        <div class="addresss">
        <div class="addres clearfix pad0a2v">
          <div class="fl mr2v wid20 text-just">
            收货城市:
          </div>
          <div class="fl adress_box lh35">
            <select class="form-control" id="cmbProvince" name="cmbProvince" >
            </select>
            <select class="form-control" id="cmbCity" name="cmbCity" >
            </select>
            <select class="form-control" id="cmbArea" name="cmbArea" >
            </select>
          </div>
        </div>
        <div class="pad0a2v lh35 borderb1e"><span class="mr2v wid20 text-just">详细地址:</span><input placeholder="如道路、小区、单元室、门牌号" type="text" id="adress"></div>
        <div class="pad0a2v lh35 borderb1e clearfix"><span class="mr3v">设为默认地址</span><input class="default fr" type="checkbox" id="mo_adress"></div>
      </div>
      </div>
    </div>
    <div class="footer"><div onclick="btn()" tapmode='tap-active' class="bgcrss">确定</div></div>
  </body>
  <script type="text/javascript" src="../../../script/api.js"></script>
  <script type="text/javascript" src="../../../script/address.js"></script>
  <script type="text/javascript" src="../../../script/md5.js"></script>
  <script type="text/javascript" src="../../../script/ajax.js"></script>
  <script type="text/javascript">
      apiready = function(){

      };
      var mobile = function(e){
        e.srcElement.value = e.srcElement.value.substring(0,11)
      }
      var state = true
      var btn = function() {
        console.log($api.byId('cmbProvince').value);
        $api.byId('cmbProvince').value = '福建'
        // if (!/^1\d{10}/.test($api.byId('mobile').value)){
        //   api.toast({
        //     msg: '请输入正确的手机号码',
        //     duration: 1000
        //   });
        //   return false
        // } else if(!$api.byId('name').value){
        //   api.toast({
        //     msg: '请输入收件人姓名',
        //     duration: 1000
        //   });
        //   return false
        // } else if($api.byId('cmbProvince').value === '未选择'){
        //   api.toast({
        //     msg: '请选择地址',
        //     duration: 1000
        //   });
        //   return false
        // } else if(!$api.byId('address').value){
        //   api.toast({
        //     msg: '请选择输入详细地址',
        //     duration: 1000
        //   });
        //   return false
        // }
        // if(!state){
        //   return false
        // }
        // state = false
        // setTimeout(function(){
        //   state = true
        // },2000)
        // api.showProgress({
        //   title: '上传中...',
        //   text: '请稍等...',
        //   modal: true
        // });

        // axios({
        //   url: 'dy/addaddress',
        //   data: {
        //     username: $api.getStorage('username'),
        //     name: $api.byId('name').value,
        //     mobile: $api.byId('mobile').value,
        //     province: $api.byId('cmbProvince').value,
        //     city: $api.byId('cmbCity').value,
        //     county: $api.byId('cmbArea').value,
        //     address: $api.byId('address').value
        //   }
        // },function(ret){
        //   api.hideProgress()
        //   $api.toast(ret.errmsg,1000);
        //   if (ret.errmsg==='操作成功'){
        //     setTimeout(function(){
        //       api.closeWin();
        //     },1000)
        //     api.sendEvent({
        //       name: 'myAddadd'
        //     });
        //   }
        // })
      }
  </script>
  </html>
